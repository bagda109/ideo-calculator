<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Video Price Playground</title>
  <style>
    :root{
      --bg:#0b0d10;
      --card:#11151b;
      --card2:#0f1318;
      --text:#e9eef7;
      --muted:#9aa6b2;
      --line:#1e2630;
      --pill:#151b24;
      --accent:#b6ff2b;
      --accent2:#ff2bd6;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius:18px;

      /* Mode theming */
      --modeGlow: rgba(182,255,43,.10);
      --modeGlow2: rgba(255,43,214,.10);
      --modeBorder: rgba(182,255,43,.25);
      --modeCard: #11151b;
      --modeCard2: #0f1318;
      --modeLabel: #dbe6f7;
      --modeMuted: #9aa6b2;
    }
    *{ box-sizing:border-box; }

    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin:0;
      background:
        radial-gradient(1200px 800px at 10% 0%, var(--modeGlow), transparent 50%),
        radial-gradient(900px 700px at 90% 10%, var(--modeGlow2), transparent 55%),
        var(--bg);
      color:var(--text);
      line-height:1.35;
      padding:24px;
      transition: 150ms ease;
    }
    .wrap{ max-width: 980px; margin: 0 auto; }

    /* Hero */
    .hero{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)) , var(--modeCard);
      box-shadow: var(--shadow);
      border-radius: 22px;
      padding: 18px;
      margin-bottom: 14px;
    }
    .heroTop{
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap:wrap;
    }
    h1{ font-size: 22px; margin:0; letter-spacing:.2px; }
    .sub{ margin:6px 0 0 0; color:var(--modeMuted); font-size: 13px; max-width: 80ch; }

    /* Mode toggle */
    .modeRow{
      display:flex; gap:10px; align-items:center; justify-content:space-between;
      margin-top: 12px;
      flex-wrap:wrap;
    }
    .modeHint{
      color: var(--modeMuted);
      font-size: 12px;
      font-weight: 700;
      opacity:.95;
    }
    .toggle{
      display:flex;
      gap:6px;
      padding:6px;
      border:1px solid var(--line);
      background: var(--pill);
      border-radius: 999px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .toggle label{ display:flex; align-items:center; cursor:pointer; user-select:none; }
    .toggle input{ position:absolute; opacity:0; pointer-events:none; }
    .toggle span{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.02);
      color: var(--muted);
      font-size: 12px;
      font-weight: 900;
      transition: 120ms ease;
      min-width: 170px;
      text-align:center;
    }
    .toggle input:checked + span{
      border-color: rgba(182,255,43,.55);
      background: rgba(182,255,43,.18);
      color: #eaffc7;
      box-shadow: 0 0 0 3px rgba(182,255,43,.08);
    }

    /* Buttons */
    button{
      cursor:pointer;
      border:0;
      background: linear-gradient(90deg, rgba(182,255,43,1), rgba(182,255,43,.78));
      color:#0b0d10;
      font-weight: 950;
      letter-spacing: .2px;
      padding:12px 14px;
      border-radius: 14px;
      font-size: 14px;
    }
    button.secondary{
      background: transparent;
      color: var(--text);
      border:1px solid var(--line);
      font-weight:900;
    }

    /* Layout */
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 980px){
      .grid{ grid-template-columns: 1.1fr .9fr; align-items:start; }
      .sticky{ position: sticky; top: 18px; }
    }

    .card{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)) , var(--modeCard);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      padding:16px;
      transition: 150ms ease;
    }
    .card h2{
      margin:0 0 10px 0;
      font-size: 14px;
      color: var(--modeLabel);
      font-weight: 950;
      letter-spacing:.15px;
    }
    .hr{ height:1px; background: var(--line); margin: 12px 0; opacity:.85; }

    /* Controls */
    .row{ display:flex; gap:10px; align-items:center; justify-content:space-between; padding: 6px 0; }
    .label{
      color: var(--modeLabel);
      font-size: 13px;
      font-weight: 850;
    }
    .help{
      color:var(--modeMuted);
      font-size: 12px;
      margin-top:6px;
      line-height: 1.45;
    }

    /* Segmented controls */
    .seg{
      display:flex;
      gap:6px;
      padding:6px;
      border:1px solid var(--line);
      background: var(--pill);
      border-radius: 999px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .seg label{ display:flex; align-items:center; cursor:pointer; user-select:none; }
    .seg input{ position:absolute; opacity:0; pointer-events:none; }
    .seg span{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.02);
      color: var(--muted);
      font-size: 12px;
      font-weight: 900;
      transition: 120ms ease;
      min-width: 120px;
      text-align:center;
    }
    .seg input:checked + span{
      border-color: rgba(182,255,43,.55);
      background: rgba(182,255,43,.18);
      color: #eaffc7;
      box-shadow: 0 0 0 3px rgba(182,255,43,.08);
    }

    /* Disabled block */
    .disabledBlock{
      opacity: .45;
      filter: grayscale(0.2);
      pointer-events: none;
    }
    .lockNote{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px dashed rgba(182,255,43,.35);
      background: rgba(182,255,43,.06);
      color: #dfffb3;
      font-size: 12px;
      line-height: 1.45;
      font-weight: 800;
    }

    /* Quantity control */
    .qty{
      display:flex;
      gap:6px;
      align-items:center;
      justify-content:flex-end;
    }
    .qty button{
      background: transparent;
      border:1px solid var(--line);
      color: var(--text);
      font-weight: 950;
      padding:10px 12px;
      border-radius: 12px;
      min-width: 46px;
    }
    .qty input{
      width: 86px;
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid var(--line);
      background: var(--modeCard2);
      color: var(--text);
      font-size: 14px;
      outline:none;
      text-align:center;
      font-weight: 950;
    }
    .qty input:focus{ border-color: rgba(182,255,43,.45); box-shadow: 0 0 0 3px rgba(182,255,43,.08); }

    /* Quality cards */
    .qualityGrid{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    @media (min-width: 720px){
      .qualityGrid{ grid-template-columns: 1fr 1fr 1fr; }
    }
    .qCard{
      border:1px solid var(--line);
      background: rgba(255,255,255,.02);
      border-radius: 18px;
      padding: 12px;
      cursor:pointer;
      transition: 120ms ease;
      position:relative;
      overflow:hidden;
    }
    .qCard:hover{ transform: translateY(-1px); }
    .qCard.active{
      border-color: rgba(255,43,214,.35);
      box-shadow: 0 0 0 3px rgba(255,43,214,.08);
      background: linear-gradient(180deg, rgba(255,43,214,.10), rgba(255,43,214,0));
    }
    .qTitle{
      display:flex; align-items:center; justify-content:space-between; gap:10px;
      font-weight: 1000;
      letter-spacing:.15px;
    }
    .qTitle small{
      color: var(--muted);
      font-weight: 900;
      font-size: 11px;
    }
    .qDesc{
      margin-top: 8px;
      color: #cfe0ff;
      opacity: .9;
      font-size: 12px;
      min-height: 44px;
    }
    .qBadge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 12px;
      font-weight: 900;
      margin-top: 10px;
    }

    /* Result */
    .result{
      border:1px solid var(--modeBorder);
      background: linear-gradient(180deg, rgba(182,255,43,.10), rgba(182,255,43,0));
      border-radius: 18px;
      padding: 14px;
      transition: 150ms ease;
    }
    .result .t{ color: var(--modeMuted); font-size: 12px; margin-bottom: 6px; font-weight: 800; }
    .result .price{
      font-size: 36px;
      font-weight: 1100;
      letter-spacing: .2px;
      line-height: 1.05;
    }
    .result .price small{
      font-size: 14px;
      color:#cfe9ff;
      font-weight: 1000;
      opacity:.95;
    }
    .resultSubText{
      margin-top: 10px;
      color: var(--modeMuted);
      font-size: 12px;
      line-height: 1.45;
      font-weight: 750;
    }

    .badgeRow{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .badge{
      display:inline-flex; gap:8px; align-items:center;
      padding:6px 10px; border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 12px;
      font-weight: 950;
    }
    .badge.ok{ border-color: rgba(182,255,43,.35); color: #eaffc7; }
    .badge.warn{ border-color: rgba(255,43,214,.35); color: #ffd1f3; }

    .metaGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .meta{
      border:1px solid var(--line);
      background: rgba(255,255,255,.02);
      border-radius: 16px;
      padding: 12px;
    }
    .meta .k{ color: var(--modeMuted); font-size: 12px; margin-bottom: 6px; font-weight: 800; }
    .meta .v{ font-size: 14px; font-weight: 1000; }

    .why{
      margin-top: 12px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.02);
      border-radius: 16px;
      padding: 12px;
    }
    details summary{
      cursor:pointer;
      font-weight: 1000;
      color: var(--modeLabel);
      list-style:none;
      outline:none;
    }
    details summary::-webkit-details-marker{ display:none; }
    .why p{
      margin: 10px 0 0 0;
      color: var(--modeMuted);
      font-size: 12px;
      line-height: 1.45;
      font-weight: 700;
    }

    .ctaBlock{
      margin-top: 12px;
      display:grid;
      gap:10px;
    }
    .ctaNote{
      color: var(--modeMuted);
      font-size: 12px;
      line-height: 1.45;
      font-weight: 700;
    }
    .copyBox{
      border:1px dashed rgba(182,255,43,.35);
      background: rgba(182,255,43,.05);
      border-radius: 16px;
      padding: 12px;
      color:#dfffb3;
      font-size: 12px;
      line-height: 1.45;
      font-weight: 850;
    }

    /* Mode: TEST lighter */
    body[data-mode="test"]{
      --modeGlow: rgba(182,255,43,.14);
      --modeGlow2: rgba(182,255,43,.06);
      --modeBorder: rgba(182,255,43,.22);
      --modeCard: #121a15;
      --modeCard2: #0f1712;
      --modeLabel: #eaffc7;
      --modeMuted: rgba(224, 255, 195, .75);
    }
    /* Mode: CORE premium heavier */
    body[data-mode="core"]{
      --modeGlow: rgba(255,43,214,.12);
      --modeGlow2: rgba(182,255,43,.08);
      --modeBorder: rgba(255,43,214,.22);
      --modeCard: #11151b;
      --modeCard2: #0f1318;
      --modeLabel: #dbe6f7;
      --modeMuted: #9aa6b2;
    }

    .foot{
      margin-top: 12px;
      color: var(--modeMuted);
      font-size: 11px;
      opacity:.95;
      font-weight: 700;
    }
  </style>
</head>

<body data-mode="test">
<div class="wrap">

  <!-- HERO -->
  <div class="hero" id="top">
    <div class="heroTop">
      <div>
        <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ AI-—Ä–æ–ª–∏–∫–∞</h1>
        <p class="sub">
          –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä <b>‚Äú–æ—Ç ‚Ä¶ ‚ÇΩ‚Äù</b>.
          <br><b>80% –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞—é—Ç —Å —Ç–µ—Å—Ç–∞</b> ‚Äî —Ç–∞–∫ –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ –æ—Ü–µ–Ω–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ø–æ–¥—Ö–æ–¥.
        </p>
      </div>
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
        <button id="scrollBtn">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button>
        <button class="secondary" id="resetBtn">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
    </div>

    <!-- MODE SWITCH -->
    <div class="modeRow">
      <div class="modeHint">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º:</div>
      <div class="toggle" id="modeToggle">
        <label>
          <input type="radio" name="mode" value="test" checked>
          <span>‚óè –¢–µ—Å—Ç–æ–≤—ã–π —Ä–æ–ª–∏–∫</span>
        </label>
        <label>
          <input type="radio" name="mode" value="core">
          <span>‚óã –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–¥–∞–∫—à–Ω</span>
        </label>
      </div>
    </div>
  </div>

  <div class="grid" id="playground">

    <!-- LEFT: CONTROLS -->
    <div class="card">
      <h2>1) –§–æ—Ä–º–∞—Ç</h2>

      <div id="formatBlock">
        <div class="row">
          <div class="label">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
          <div class="seg" id="durSeg">
            <label>
              <input type="radio" name="dur" value="10">
              <span>10 —Å–µ–∫</span>
            </label>
            <label>
              <input type="radio" name="dur" value="15" checked>
              <span>15 —Å–µ–∫</span>
            </label>
            <label>
              <input type="radio" name="dur" value="30">
              <span>30 —Å–µ–∫</span>
            </label>
            <label>
              <input type="radio" name="dur" value="60">
              <span>60 —Å–µ–∫</span>
            </label>
          </div>
        </div>
        <div class="help" id="durHelp">–ß–µ–º –¥–ª–∏–Ω–Ω–µ–µ —Ä–æ–ª–∏–∫ ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ.</div>
      </div>

      <div class="hr"></div>

      <h2>2) –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–¥–∞–∫—à–Ω–∞</h2>
      <div class="help" style="margin-top:-4px;">
        –í–ª–∏—è–µ—Ç –Ω–∞ ‚Äú–∫–∏–Ω–æ—à–Ω–æ—Å—Ç—å‚Äù, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é, –¥–∏–Ω–∞–º–∏–∫—É –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞.
      </div>

      <div id="qualityBlock">
        <div class="qualityGrid" id="qualityGrid">
          <div class="qCard" data-q="fast">
            <div class="qTitle">‚ö° Fast <small>–±—ã—Å—Ç—Ä–æ</small></div>
            <div class="qDesc">–ü—Ä–æ—Å—Ç—ã–µ —Å—Ü–µ–Ω—ã, –ª—ë–≥–∫–∞—è –¥–∏–Ω–∞–º–∏–∫–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏ –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–¥–∞—á.</div>
            <div class="qBadge">–û–±—ã—á–Ω–æ –¥–µ—à–µ–≤–ª–µ</div>
          </div>

          <div class="qCard active" data-q="balanced">
            <div class="qTitle">‚öñÔ∏è Balanced <small>—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º</small></div>
            <div class="qDesc">–û–ø—Ç–∏–º—É–º –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ü–µ–Ω—ã. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤, —Ä–µ–∫–ª–∞–º—ã –∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.</div>
            <div class="qBadge">–õ—É—á—à–∏–π –±–∞–ª–∞–Ω—Å</div>
          </div>

          <div class="qCard" data-q="cinematic">
            <div class="qTitle">üé• Cinematic <small>–ø—Ä–µ–º–∏—É–º</small></div>
            <div class="qDesc">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∏ ‚Äú–∫–∏–Ω–æ—à–Ω–æ—Å—Ç—å‚Äù. –î–ª—è –≤–∞—É-—ç—Ñ—Ñ–µ–∫—Ç–∞ –∏ –∏–º–∏–¥–∂–∞.</div>
            <div class="qBadge">–î–æ—Ä–æ–∂–µ –∏–∑-–∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</div>
          </div>
        </div>

        <div class="help" id="qualityHelp">
          –ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω—ã —Ç—Ä–µ–±—É—é—Ç –≤ 3‚Äì5 —Ä–∞–∑ –±–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –≤—Ä–µ–º–µ–Ω–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞.
        </div>
      </div>

      <div class="hr"></div>

      <h2>3) –û–±—ä—ë–º</h2>

      <div id="volumeBlock">
        <div class="row">
          <div class="label">–°–∫–æ–ª—å–∫–æ —Ä–æ–ª–∏–∫–æ–≤?</div>
          <div class="qty">
            <button id="minusBtn" type="button">‚àí</button>
            <input id="qtyInput" type="number" min="1" step="1" value="1" />
            <button id="plusBtn" type="button">+</button>
          </div>
        </div>

        <div class="row">
          <div class="label">–ü–∞–∫–µ—Ç</div>
          <div class="seg" id="packSeg">
            <label>
              <input type="radio" name="pack" value="one" checked>
              <span>–†–∞–∑–æ–≤–æ</span>
            </label>
            <label>
              <input type="radio" name="pack" value="pack5">
              <span>–ü–∞–∫–µ—Ç 5</span>
            </label>
            <label>
              <input type="radio" name="pack" value="pack10">
              <span>–ü–∞–∫–µ—Ç 10</span>
            </label>
          </div>
        </div>

        <div class="help">–ü–∞–∫–µ—Ç—ã –¥–∞—é—Ç —ç–∫–æ–Ω–æ–º–∏—é –∑–∞ —Å—á—ë—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Å–µ—Ä–∏–∏.</div>
      </div>

      <div id="testLockNote" class="lockNote" style="display:none;">
        <b>–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º</b> —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ–±—ã –≤—ã –±—ã—Å—Ç—Ä–æ —É–≤–∏–¥–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ:
        <br>‚Ä¢ 8‚Äì10 —Å–µ–∫—É–Ω–¥ ‚Ä¢ Fast ‚Ä¢ 1 —Ä–æ–ª–∏–∫ ‚Ä¢ –±–µ–∑ –ø–∞–∫–µ—Ç–æ–≤
      </div>

      <div class="hr"></div>

      <h2>–ü–æ—á–µ–º—É ‚Äú–æ—Ç ‚Ä¶ ‚ÇΩ‚Äù?</h2>
      <div class="why">
        <details>
          <summary>–ü–æ–∫–∞–∑–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ</summary>
          <p>
            –û—Ä–∏–µ–Ω—Ç–∏—Ä ‚Äú–æ—Ç‚Äù ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –∏—Ç–æ–≥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ—Ç–∞–ª–µ–π: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π,
            —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è, —Å—Ç–∏–ª—å, –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ ‚Äú–∏–¥–µ–∞–ª—å–Ω–æ–º—É –ø–æ–ø–∞–¥–∞–Ω–∏—é‚Äù –∏ —Å—Ä–æ–∫–∏.
            –≠—Ç–æ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Ü–µ–Ω –∏ –ø—Ä–∏—á–∏–Ω—ã.
          </p>
        </details>
      </div>
    </div>

    <!-- RIGHT: RESULT -->
    <div class="card sticky">
      <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>

      <div class="result">
        <div class="t">–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
        <div class="price" id="priceFrom">‚Äî</div>

        <div class="badgeRow" id="badgeRow"></div>

        <div class="t" style="margin-top:10px;">–í—ã –≤—ã–±—Ä–∞–ª–∏</div>
        <div class="sub" id="chosenLine" style="margin:0; font-size:12px;">‚Äî</div>

        <div class="resultSubText" id="underPriceText">‚Äî</div>
      </div>

      <div class="metaGrid">
        <div class="meta">
          <div class="k">–û—Ä–∏–µ–Ω—Ç–∏—Ä –∑–∞ 1 —Ä–æ–ª–∏–∫</div>
          <div class="v" id="perOne">‚Äî</div>
        </div>
        <div class="meta">
          <div class="k">–û—Ä–∏–µ–Ω—Ç–∏—Ä –∑–∞ –ø–∞–∫–µ—Ç</div>
          <div class="v" id="perPack">‚Äî</div>
        </div>
      </div>

      <div class="metaGrid">
        <div class="meta">
          <div class="k">–°—Ä–æ–∫–∏ (–æ—Ä–∏–µ–Ω—Ç–∏—Ä)</div>
          <div class="v" id="timeline">‚Äî</div>
        </div>
        <div class="meta">
          <div class="k">–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç</div>
          <div class="v" id="includes">‚Äî</div>
        </div>
      </div>

      <div class="why" id="whyCinematic">
        <details>
          <summary>–ü–æ—á–µ–º—É ‚ÄúCinematic‚Äù –¥–æ—Ä–æ–∂–µ?</summary>
          <p>
            Cinematic —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞:
            –¥–µ—Ç–∞–ª—å–Ω–µ–µ —Å–≤–µ—Ç/—Ç–µ–∫—Å—Ç—É—Ä—ã, —Å–ª–æ–∂–Ω–µ–µ –¥–∏–Ω–∞–º–∏–∫–∞, –≤—ã—à–µ —à–∞–Ω—Å, —á—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ ‚Äú–ø–æ–¥–≥–æ–Ω–∫–∏ –ø–æ–¥ –æ–∂–∏–¥–∞–Ω–∏—è‚Äù.
            –ú—ã –ø–æ–¥–±–∏—Ä–∞–µ–º –ø–æ–¥—Ö–æ–¥ –ø–æ–¥ –∑–∞–¥–∞—á—É, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–ø–ª–∞—á–∏–≤–∞—Ç—å –∑–∞ –ø—Ä–æ—Å—Ç—ã–µ —Ä–æ–ª–∏–∫–∏ –∏ –ø–æ–ª—É—á–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–∞–º, –≥–¥–µ –≤–∞–∂–Ω–æ.
          </p>
        </details>
      </div>

      <div class="ctaBlock">
        <button id="ctaBtn">‚Äî</button>
        <div class="copyBox" id="copyBox">–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏: ‚Äî</div>
        <div class="ctaNote" id="ctaNote">‚Äî</div>
      </div>

      <div class="foot">
        –í–µ—Ä—Å–∏—è: Client Playground ‚Ä¢ —Ä–µ–∂–∏–º TEST/CORE ‚Ä¢ –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π
      </div>
    </div>

  </div>
</div>

<script>
/**
 * CLIENT PLAYGROUND ‚Äî with TEST (ENTRY) mode + CORE mode
 */
const CONFIG = {
  currency: "‚ÇΩ",

  // TEST mode settings
  test: {
    priceFromRub: 2900,
    durationMin: 8,
    durationMax: 10,
    fixedQuality: "fast",
    fixedQty: 1,
    fixedPack: "one",
    badge: "–¢–µ—Å—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ‚Ä¢ –±–µ–∑ –ø—Ä–∞–≤–æ–∫ ‚Ä¢ 1 —Å—Ü–µ–Ω–∞",
    underPriceText: "–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–æ–ª–∏–∫, —á—Ç–æ–±—ã –≤—ã —É–≤–∏–¥–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ø–æ–¥—Ö–æ–¥. –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ –º—ã —Ä–∞—Å—Å—á–∏—Ç–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–∫—à–Ω–∞ –ø–æ–¥ –∑–∞–¥–∞—á—É."
  },

  // CORE pricing model (same as before)
  baseRubPerSecond: {
    fast: 650,
    balanced: 1100,
    cinematic: 2100
  },
  fixedRubPerClip: {
    fast: 2500,
    balanced: 4500,
    cinematic: 8000
  },
  minRubPerClip: {
    fast: 7900,
    balanced: 14900,
    cinematic: 29900
  },

  discounts: {
    one: 0.00,
    pack5: 0.10,
    pack10: 0.20
  },

  timelines: {
    one: "1‚Äì3 –¥–Ω—è",
    pack5: "3‚Äì7 –¥–Ω–µ–π",
    pack10: "7‚Äì14 –¥–Ω–µ–π"
  },

  includes: {
    fast: "–°—Ü–µ–Ω–∞ + –±–∞–∑–æ–≤–∞—è –¥–∏–Ω–∞–º–∏–∫–∞",
    balanced: "–ö–∞—á–µ—Å—Ç–≤–æ + –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ç–∏–ª—è",
    cinematic: "–ü—Ä–µ–º–∏—É–º-–¥–∏–Ω–∞–º–∏–∫–∞ + –≤–∞—É"
  },

  // CTA templates
  cta: {
    test: {
      button: "–°–¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–æ–ª–∏–∫",
      note: "–¢–µ—Å—Ç ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç. –î–∞–ª—å—à–µ –æ—Ü–µ–Ω–∏–º –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–¥–∞–∫—à–Ω –ø–æ–¥ –∑–∞–¥–∞—á—É.",
      template: () => "–•–æ—á—É —Ç–µ—Å—Ç–æ–≤—ã–π AI-—Ä–æ–ª–∏–∫ (8‚Äì10 —Å–µ–∫). –ì–æ—Ç–æ–≤ –ø—Ä–∏—Å–ª–∞—Ç—å —Ñ–æ—Ç–æ –¥–ª—è —Ç–µ—Å—Ç–∞."
    },
    core: {
      button: "–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç",
      note: "‚ö†Ô∏è –≠—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä ‚Äú–æ—Ç ‚Ä¶ ‚ÇΩ‚Äù. –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –±—Ä–∏—Ñ–∞ (–∑–∞–¥–∞—á–∞, —Å—Ç–∏–ª—å, —Ä–µ—Ñ–µ—Ä–µ–Ω—Å—ã, —Å—Ä–æ–∫–∏).",
      template: ({dur, qty, pack, quality, priceFrom}) => {
        const packName = pack === "one" ? "—Ä–∞–∑–æ–≤–æ" : (pack === "pack5" ? "–ø–∞–∫–µ—Ç 5" : "–ø–∞–∫–µ—Ç 10");
        const qName = quality === "fast" ? "Fast" : (quality === "balanced" ? "Balanced" : "Cinematic");
        return `–•–æ—á—É AI-—Ä–æ–ª–∏–∫(–∏): ${qty} —à—Ç, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ${dur} —Å–µ–∫, —É—Ä–æ–≤–µ–Ω—å ${qName}, —Ñ–æ—Ä–º–∞—Ç ${packName}. –í –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ –≤–∏–∂—É –æ—Ä–∏–µ–Ω—Ç–∏—Ä ${priceFrom}. –î–∞–≤–∞–π—Ç–µ —É—Ç–æ—á–Ω–∏–º –∑–∞–¥–∞—á—É –∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å.`;
      }
    }
  }
};

const LS_KEY = "client_playground_v2";

const $ = (sel) => document.querySelector(sel);
const $$ = (sel) => Array.from(document.querySelectorAll(sel));

function fmtRub(n){
  if (!Number.isFinite(n)) return "‚Äî";
  return n.toLocaleString("ru-RU", { maximumFractionDigits: 0 }) + " " + CONFIG.currency;
}
function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

function getMode(){
  const r = document.querySelector('input[name="mode"]:checked');
  return r ? r.value : "test";
}
function getDur(){
  const r = document.querySelector('input[name="dur"]:checked');
  return r ? Number(r.value) : 15;
}
function setDurTo(valueSeconds){
  const options = $$('input[name="dur"]');
  let found = options.find(o => Number(o.value) === Number(valueSeconds));
  if (!found) found = options[0];
  found.checked = true;
}
function getPack(){
  const r = document.querySelector('input[name="pack"]:checked');
  return r ? r.value : "one";
}
function setPackTo(value){
  const options = $$('input[name="pack"]');
  let found = options.find(o => o.value === value);
  if (!found) found = options[0];
  found.checked = true;
}
function getQty(){
  const v = Number($("#qtyInput").value);
  return clamp(Math.round(v || 1), 1, 999);
}
function setQty(v){
  $("#qtyInput").value = clamp(Math.round(v || 1), 1, 999);
}

let state = {
  mode: "test",
  dur: 15,
  quality: "balanced",
  pack: "one",
  qty: 1
};

function saveState(){
  try{ localStorage.setItem(LS_KEY, JSON.stringify(state)); }catch{}
}
function loadState(){
  try{
    const raw = localStorage.getItem(LS_KEY);
    if (!raw) return;
    const s = JSON.parse(raw);
    if (!s) return;
    state = {...state, ...s};
  }catch{}
}

function selectQuality(q){
  state.quality = q;
  $$("#qualityGrid .qCard").forEach(card=>{
    card.classList.toggle("active", card.dataset.q === q);
  });
}

function setModeUI(mode){
  document.body.setAttribute("data-mode", mode);

  const isTest = mode === "test";

  // Disable/enable blocks visually
  const formatBlock = $("#formatBlock");
  const qualityBlock = $("#qualityBlock");
  const volumeBlock = $("#volumeBlock");
  const testLockNote = $("#testLockNote");

  if (isTest){
    // Lock values
    // duration: 10 sec (fits 8-10 requirement)
    setDurTo(10);
    // quality: fast
    selectQuality(CONFIG.test.fixedQuality);
    // qty: 1
    setQty(CONFIG.test.fixedQty);
    // pack: one
    setPackTo(CONFIG.test.fixedPack);

    // Disable user interaction blocks
    formatBlock.classList.add("disabledBlock");
    qualityBlock.classList.add("disabledBlock");
    volumeBlock.classList.add("disabledBlock");
    testLockNote.style.display = "block";

    // Helpful text
    $("#durHelp").textContent = "–í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞: 8‚Äì10 —Å–µ–∫—É–Ω–¥.";
    $("#qualityHelp").textContent = "–í —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Fast ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —É–≤–∏–¥–µ—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏ –ø–æ–¥—Ö–æ–¥.";
  } else {
    // Enable
    formatBlock.classList.remove("disabledBlock");
    qualityBlock.classList.remove("disabledBlock");
    volumeBlock.classList.remove("disabledBlock");
    testLockNote.style.display = "none";

    // Restore help text
    $("#durHelp").textContent = "–ß–µ–º –¥–ª–∏–Ω–Ω–µ–µ —Ä–æ–ª–∏–∫ ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ.";
    $("#qualityHelp").textContent = "–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω—ã —Ç—Ä–µ–±—É—é—Ç –≤ 3‚Äì5 —Ä–∞–∑ –±–æ–ª—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –≤—Ä–µ–º–µ–Ω–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞.";
  }

  // Cinematic ‚Äúwhy‚Äù block only in CORE (optional, but cleaner)
  $("#whyCinematic").style.display = isTest ? "none" : "block";
}

function applyStateToUI(){
  // mode
  $$('input[name="mode"]').forEach(i => i.checked = i.value === state.mode);

  // duration
  $$('input[name="dur"]').forEach(i => i.checked = Number(i.value) === state.dur);

  // pack
  $$('input[name="pack"]').forEach(i => i.checked = i.value === state.pack);

  // qty
  setQty(state.qty);

  // quality cards
  selectQuality(state.quality);

  // apply mode UI
  setModeUI(state.mode);
}

function renderBadges(mode){
  const badgeRow = $("#badgeRow");
  badgeRow.innerHTML = "";
  if (mode === "test"){
    const b1 = document.createElement("div");
    b1.className = "badge ok";
    b1.textContent = CONFIG.test.badge;
    badgeRow.appendChild(b1);

    const b2 = document.createElement("div");
    b2.className = "badge";
    b2.textContent = "80% –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞—á–∏–Ω–∞—é—Ç —Å —Ç–µ—Å—Ç–∞";
    badgeRow.appendChild(b2);
  } else {
    const b1 = document.createElement("div");
    b1.className = "badge";
    b1.textContent = "–û—Ä–∏–µ–Ω—Ç–∏—Ä ‚Äú–æ—Ç ‚Ä¶ ‚ÇΩ‚Äù";
    badgeRow.appendChild(b1);

    const b2 = document.createElement("div");
    b2.className = "badge";
    b2.textContent = "–ü–∞–∫–µ—Ç—ã –¥–∞—é—Ç —ç–∫–æ–Ω–æ–º–∏—é";
    badgeRow.appendChild(b2);
  }
}

function calc(){
  const mode = getMode();

  // enforce mode UI + locks
  setModeUI(mode);

  if (mode === "test"){
    // Hard fixed output
    const fromLine = `–æ—Ç ${fmtRub(CONFIG.test.priceFromRub)}`;

    $("#priceFrom").innerHTML = `${fromLine} <small>–∑–∞ —Ä–æ–ª–∏–∫</small>`;
    $("#perOne").textContent = fromLine;
    $("#perPack").textContent = fromLine;

    $("#timeline").textContent = "–í —Ç–æ—Ç –∂–µ –¥–µ–Ω—å / 24 —á–∞—Å–∞";
    $("#includes").textContent = "–¢–µ—Å—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ‚Ä¢ 1 —Å—Ü–µ–Ω–∞";

    $("#chosenLine").textContent = `‚ö° Fast ‚Ä¢ 8‚Äì10 —Å–µ–∫ ‚Ä¢ 1 —Ä–æ–ª–∏–∫ ‚Ä¢ –±–µ–∑ –ø–∞–∫–µ—Ç–æ–≤`;
    $("#underPriceText").textContent = CONFIG.test.underPriceText;

    // CTA
    const msg = CONFIG.cta.test.template();
    $("#ctaBtn").textContent = CONFIG.cta.test.button;
    $("#ctaBtn").dataset.msg = msg;
    $("#copyBox").textContent = `–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏: ${msg}`;
    $("#ctaNote").textContent = CONFIG.cta.test.note;

    renderBadges("test");

    // persist state
    state.mode = "test";
    state.dur = 10;
    state.quality = "fast";
    state.pack = "one";
    state.qty = 1;
    saveState();
    return;
  }

  // CORE mode calculation (unchanged pricing logic)
  const dur = getDur();
  const pack = getPack();
  let qty = getQty();

  // nudge qty for packs
  if (pack === "pack5" && qty < 5) qty = 5;
  if (pack === "pack10" && qty < 10) qty = 10;
  setQty(qty);

  const q = state.quality;
  const disc = CONFIG.discounts[pack] ?? 0;

  const raw = dur * CONFIG.baseRubPerSecond[q] + CONFIG.fixedRubPerClip[q];
  const perClip = Math.max(CONFIG.minRubPerClip[q], raw);
  const perClipDiscounted = Math.round(perClip * (1 - disc));
  const total = Math.round(perClipDiscounted * qty);

  const fromLine = `–æ—Ç ${fmtRub(perClipDiscounted)}`;

  $("#priceFrom").innerHTML = `${fromLine} <small>–∑–∞ —Ä–æ–ª–∏–∫</small>`;
  $("#perOne").textContent = fromLine;
  $("#perPack").textContent = `–æ—Ç ${fmtRub(total)}`;

  const qName = q === "fast" ? "‚ö° Fast" : (q === "balanced" ? "‚öñÔ∏è Balanced" : "üé• Cinematic");
  const packName = pack === "one" ? "–†–∞–∑–æ–≤–æ" : (pack === "pack5" ? "–ü–∞–∫–µ—Ç 5" : "–ü–∞–∫–µ—Ç 10");
  $("#chosenLine").textContent = `${qName} ‚Ä¢ ${dur} —Å–µ–∫ ‚Ä¢ ${packName} ‚Ä¢ ${qty} —à—Ç ‚Ä¢ —Å–∫–∏–¥–∫–∞ ${Math.round(disc*100)}%`;

  $("#timeline").textContent = CONFIG.timelines[pack] ?? "1‚Äì7 –¥–Ω–µ–π";
  $("#includes").textContent = CONFIG.includes[q] ?? "–°—Ü–µ–Ω–∞ + –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ";

  $("#underPriceText").textContent = "–≠—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º. –ò—Ç–æ–≥ —É—Ç–æ—á–Ω—è–µ—Ç—Å—è –ø–æ —Å—Ü–µ–Ω–µ, —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞–º, —Å—Ç–∏–ª—é –∏ —Å—Ä–æ–∫–∞–º.";

  // CTA core
  const msg = CONFIG.cta.core.template({dur, qty, pack, quality:q, priceFrom: fromLine});
  $("#ctaBtn").textContent = CONFIG.cta.core.button;
  $("#ctaBtn").dataset.msg = msg;
  $("#copyBox").textContent = `–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏: ${msg}`;
  $("#ctaNote").textContent = CONFIG.cta.core.note;

  renderBadges("core");

  // persist
  state.mode = "core";
  state.dur = dur;
  state.pack = pack;
  state.qty = qty;
  saveState();
}

/* --- Events --- */
$("#scrollBtn").addEventListener("click", ()=>{
  $("#playground").scrollIntoView({behavior:"smooth", block:"start"});
});
$("#resetBtn").addEventListener("click", ()=>{
  state = { mode:"test", dur:15, quality:"balanced", pack:"one", qty:1 };
  applyStateToUI();
  calc();
});

$$('input[name="mode"]').forEach(i => i.addEventListener("change", ()=>{
  state.mode = getMode();
  applyStateToUI();
  calc();
}));

$$('input[name="dur"]').forEach(i => i.addEventListener("change", ()=>{
  if (getMode() === "core"){ calc(); }
}));

$$('input[name="pack"]').forEach(i => i.addEventListener("change", ()=>{
  if (getMode() === "core"){ calc(); }
}));

$("#minusBtn").addEventListener("click", ()=>{
  if (getMode() !== "core") return;
  setQty(getQty() - 1);
  calc();
});
$("#plusBtn").addEventListener("click", ()=>{
  if (getMode() !== "core") return;
  setQty(getQty() + 1);
  calc();
});
$("#qtyInput").addEventListener("input", ()=>{
  if (getMode() === "core"){ calc(); }
});

$$("#qualityGrid .qCard").forEach(card=>{
  card.addEventListener("click", ()=>{
    if (getMode() !== "core") return;
    selectQuality(card.dataset.q);
    saveState();
    calc();
  });
});

$("#ctaBtn").addEventListener("click", async ()=>{
  const msg = $("#ctaBtn").dataset.msg || "";
  try{
    await navigator.clipboard.writeText(msg);
    const old = $("#ctaBtn").textContent;
    $("#ctaBtn").textContent = "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ";
    setTimeout(()=> $("#ctaBtn").textContent = old, 1300);
  }catch{
    alert("–ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –°–∫–æ–ø–∏—Ä—É–π —Ç–µ–∫—Å—Ç –∏–∑ –±–ª–æ–∫–∞ –Ω–∏–∂–µ.");
  }
});

/* --- Init --- */
loadState();
applyStateToUI();
calc();
</script>
</body>
</html>
